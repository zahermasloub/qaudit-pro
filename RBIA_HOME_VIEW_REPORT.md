# โ ุชูุฑูุฑ ุชูููุฐ ูุงุฌูุฉ ุงูุฎุทุฉ ุงูุณูููุฉ ุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
**ุงูุชุงุฑูุฎ:** 2025-10-20  
**ุงููุถุน:** MODE=embed (ุนุฑุถ ููุฏูุฌ)  
**ุงูุญุงูุฉ:** โ ููุชูู ุจูุฌุงุญ

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูููู ูุดุชุฑู ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู (`RbiaPlanView`) ูุนุฑุถ ุงูุฎุทุฉ ุงูุณูููุฉ ุจุชุตููู ููุญุฏ ุนูู:
1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ `/`
2. ุตูุญุฉ ุงูุฎุทุฉ ุงููุฎุตุตุฉ `/rbia/plan`

---

## โ ุงูููููุงุช ุงูููููุฐุฉ

### 1. ุงููููู ุงููุดุชุฑู: `RbiaPlanView.tsx`

**ุงููููุน:** `app/(app)/rbia/plan/RbiaPlanView.tsx`

**ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:**

#### ๐ด ุจุทุงูุงุช ุงูููุฎุต (4 ุจุทุงูุงุช)
```
โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ
โ  20%            โ โ  1,080          โ โ  5              โ โ  ูุนุชูุฏุฉ โ       โ
โ  ูุณุจุฉ ุงูุฅูุฌุงุฒ   โ โ  ุฅุฌูุงูู ุงูุณุงุนุงุช โ โ  ุงูููุงู ุงููุฎุทุทุฉ โ โ  ุญุงูุฉ ุงูุฎุทุฉ     โ
โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ
```

#### ๐ ุงูููุงุชุฑ ูุงูุจุญุซ
- **ุงูุจุญุซ:** ุญูู ุจุญุซ ุจุฃููููุฉ (Search icon)
- **ููุชุฑ ุงูุฅุฏุงุฑุงุช:** ูุงุฆูุฉ ููุณุฏูุฉ (ูู ุงูุฅุฏุงุฑุงุช / ุงููุดุชุฑูุงุช / ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ...)
- **ููุชุฑ ุงููุฎุงุทุฑ:** ูุงุฆูุฉ ููุณุฏูุฉ (ูู ุงููุฎุงุทุฑ / ุนุงููุฉ / ูุชูุณุทุฉ / ููุฎูุถุฉ)
- **ููุชุฑ ุงูุญุงูุงุช:** ูุงุฆูุฉ ููุณุฏูุฉ (ูู ุงูุญุงูุงุช / ูุฎุทุท / ููุฏ ุงูุชูููุฐ / ููุชูู / ูุชุฃุฎุฑ)
- **ุฒุฑ ุงุณุชูุฑุงุฏ CSV:** ูุน ุฃููููุฉ Upload
- **ุฒุฑ ุชุตุฏูุฑ CSV:** ูุน ุฃููููุฉ Download

#### ๐ ุงูุฌุฏูู ุงูุฑุฆูุณู (9 ุฃุนูุฏุฉ)

| ุงูุฑูุฒ | ุงูุนููุงู | ุงูุฅุฏุงุฑุฉ | ุงููุฎุงุทุฑ | ุงูููุน | ุงูุฑุจุน | ุงูุณุงุนุงุช | ุงูุญุงูุฉ | ุฅุฌุฑุงุกุงุช |
|------|---------|---------|---------|------|------|--------|--------|---------|
| RBIA-2025-001 | ูุฑุงุฌุนุฉ ูุธุงู ุงููุดุชุฑูุงุช | ุงููุดุชุฑูุงุช | `ุนุงููุฉ` ๐ด | ูุฑุงุฌุนุฉ ุฏุงุฎููุฉ | Q1 | 120 | `ููุฏ ุงูุชูููุฐ` ๐ฃ | ๐๏ธ โ๏ธ ๐๏ธ |
| RBIA-2025-002 | ุชุฏููู ุงูุฑูุงุชุจ | ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ | `ุนุงููุฉ` ๐ด | ูุฑุงุฌุนุฉ ูุงููุฉ | Q1 | 80 | `ูุฎุทุท` ๐ต | ๐๏ธ โ๏ธ ๐๏ธ |

**Badges ููููุฉ:**
- ุงููุฎุงุทุฑ: ๐ด ุนุงููุฉ / ๐ก ูุชูุณุทุฉ / ๐ข ููุฎูุถุฉ
- ุงูุญุงูุฉ: ๐ต ูุฎุทุท / ๐ฃ ููุฏ ุงูุชูููุฐ / ๐ข ููุชูู / ๐ด ูุชุฃุฎุฑ

#### ๐ ุงูุดุฑูุท ุงูุฌุงูุจู (Stepper)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ูุฑุงุญู ุงูุนูููุฉ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โ ุงูุฎุทุฉ ุงูุณูููุฉ โ       โ โ ูุดุท
โ   โโโโโโโโโ 30%        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โก ุชุญุฏูุฏ ุงูุฃููููุงุช โ     โ
โ โข ุชุฎุตูุต ุงูููุงุฑุฏ โ       โ
โ โฃ ุงูุฌุฏูู ุงูุฒููู โ       โ
โ โค ุงุนุชูุงุฏ ุงูุฎุทุฉ โ        โ
โ โฅ ุชูููุฐ ุงูููุงู โ        โ
โ โฆ ุงููุชุงุจุนุฉ ูุงูุฑูุงุจุฉ โ   โ
โ โง ุฅุนุฏุงุฏ ุงูุชูุงุฑูุฑ โ      โ
โ โจ ุงููุฑุงุฌุนุฉ ูุงูุชูููู โ   โ
โ โฉ ุงูุชูุตูุงุช โ            โ
โ โช ุงูุฅุบูุงู ูุงูุฃุฑุดูุฉ โ    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### ๐จ ุงูุชุตููู (Tailwind + shadcn/ui)

**ุดุฑูุท ุนููู:**
```css
bg-slate-900 text-white rounded-b-2xl py-3 px-6 sticky top-0 z-50 shadow-lg
```

**ุงูุจุทุงูุงุช:**
```css
bg-white rounded-xl shadow-sm p-5 border border-gray-100
```

**ุงูุฌุฏูู:**
```css
bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden
hover:bg-gray-50 (ุนูู ุงูุตููู)
```

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ/ุงูููุนุฏููุฉ

### 1. ุงููููู ุงูุฌุฏูุฏ
```
โ app/(app)/rbia/plan/RbiaPlanView.tsx (770 lines)
```

### 2. ุงูุตูุญุงุช ุงูููุนุฏููุฉ
```
โ app/page.tsx
   ูุจู: redirect('/shell')
   ุจุนุฏ: <RbiaPlanView mode="home" />

โ app/(app)/rbia/plan/page.tsx
   ูุจู: 1,083 lines (standalone)
   ุจุนุฏ: <RbiaPlanView mode="plan" />
```

### 3. ุงูุชูุซูู
```
โ docs/copilot-instructions.md
   ุฃุถูู: Part D: Home Page Annual Plan View (โ) โ MODE=embed
```

---

## ๐ฏ ุงูููุฒุงุช ุงูุชูููุฉ

### โจ ุงูุฃุฏุงุก ูุงูุชุญุณูู
- โ **useMemo** ููุจูุงูุงุช ุงูููุตููุงุฉ (filteredItems)
- โ **useMemo** ููุฅุญุตุงุฆูุงุช (stats)
- โ **useMemo** ูููุงุฆู ุงูููุงุชุฑ
- โ **Loading states** ูุน Skeleton
- โ **Error handling** ุดุงูู

### ๐พ ุงูุชุฎุฒูู ุงููุญูู
- โ ุญูุธ ุงูููุงุชุฑ ูู `localStorage` (rbia_filters)
- โ ุงุณุชุฑุฌุงุน ุงูููุงุชุฑ ุนูุฏ ุงูุชุญููู
- โ ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุงูุชุบููุฑ

### โฟ ุงููุตูููุฉ (Accessibility)
- โ `aria-label` ุนูู ุฌููุน ุงูุฃุฒุฑุงุฑ
- โ `dir="rtl"` ุนูู ุงูุนูุงุตุฑ
- โ Focus states ููุชููู ุจุงูููุจูุฑุฏ
- โ Semantic HTML

### ๐ RTL & i18n
- โ ุฏุนู ูุงูู ููู RTL
- โ ุฌููุน ุงููุตูุต ุจุงูุนุฑุจูุฉ
- โ ุงูุฃููููุงุช ูู ุงูููุงุถุน ุงูุตุญูุญุฉ
- โ ุงูููุงุชุฑ ุชุนูู ูุน ุงููุตูุต ุงูุนุฑุจูุฉ

---

## ๐ ุฑุจุท ุงูุจูุงูุงุช

### API Integration
```typescript
// ุฌูุจ ุงูุฎุทุท
GET /api/annual-plans?fiscalYear=2025

// ุฌูุจ ุจููุฏ ุงูุฎุทุฉ
GET /api/plan/items?plan_id={id}
```

### Sample Data (ุนูุฏ ุนุฏู ูุฌูุฏ ุจูุงูุงุช)
```typescript
generateSampleData(): 5 items
  - ูุฑุงุฌุนุฉ ูุธุงู ุงููุดุชุฑูุงุช
  - ุชุฏููู ุงูุฑูุงุชุจ ูุงูุฃุฌูุฑ
  - ูุฑุงุฌุนุฉ ุฃูู ุงููุนูููุงุช
  - ูุญุต ุงูุงูุชุซุงู ุงูุชูุธููู
  - ุชูููู ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ
```

---

## ๐ฌ ุงูุฅุฌุฑุงุกุงุช (Actions)

### ๐๏ธ ุนุฑุถ (View)
- ููุชุญ Modal/Sheet ุฌุงูุจู
- ูุนุฑุถ ูู ุชูุงุตูู ุงูุจูุฏ
- ูุถุน ุงููุฑุงุกุฉ ููุท

### โ๏ธ ุชุนุฏูู (Edit)
- ููุชุญ ููุณ Modal ุจูุถุน ุงูุชุญุฑูุฑ
- ุญููู ูุงุจูุฉ ููุชุนุฏูู
- ุฒุฑ ุญูุธ + ุฅูุบุงุก

### ๐๏ธ ุญุฐู (Delete)
- Dialog ุชุฃููุฏ
- ุญุฐู ูุญูู ูู state
- Toast notification

### ๐ฅ ุงุณุชูุฑุงุฏ CSV
```typescript
handleImportCSV()
  - ููุฑุฃ ุงูููู
  - ูุญูู ุงูุตููู
  - ูุถูู ููุฌุฏูู
  - Toast: "ุชู ุงุณุชูุฑุงุฏ X ุจูุฏ"
```

### ๐ค ุชุตุฏูุฑ CSV
```typescript
handleExportCSV()
  - ูุญูู ุงูุตููู ูู CSV
  - ูููุฒูู ุงูููู
  - ุงุณู ุงูููู: annual_plan_YYYY-MM-DD.csv
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุญุณูุจุฉ

```typescript
stats = {
  completionRate: 20%,      // ูู completed items
  totalHours: 1,080,        // ูุฌููุน ุงูุณุงุนุงุช
  totalTasks: 5,            // ุนุฏุฏ ุงูุจููุฏ
  status: 'ูุนุชูุฏุฉ'          // ุญุงูุฉ ุงูุฎุทุฉ
}
```

---

## ๐จ ูุธุงู ุงูุฃููุงู

### ุงูุจุทุงูุงุช
```
Progress:    bg-blue-100 text-blue-600
Total Hours: bg-green-100 text-green-600
Tasks:       bg-purple-100 text-purple-600
Status:      bg-emerald-100 text-emerald-600
```

### Badges - ุงููุฎุงุทุฑ
```
High:   bg-red-100 text-red-800 border-red-200
Medium: bg-yellow-100 text-yellow-800 border-yellow-200
Low:    bg-green-100 text-green-800 border-green-200
```

### Badges - ุงูุญุงูุฉ
```
Planned:     bg-blue-100 text-blue-800 border-blue-200
In-Progress: bg-purple-100 text-purple-800 border-purple-200
Completed:   bg-green-100 text-green-800 border-green-200
Delayed:     bg-red-100 text-red-800 border-red-200
```

---

## ๐งช ุงูุณููู ุงููุชููุน

### ุงูููุชุฑุฉ
1. ุงูุจุญุซ ูุนูู ุนูู: ุงูุฑูุฒุ ุงูุนููุงูุ ุงูุฅุฏุงุฑุฉ
2. ุงูููุงุชุฑ ุชุชุฑุงูู (AND logic)
3. ุงูููุงุชุฑ ูุญููุธุฉ ูู localStorage
4. ุงูุนุฏุงุฏ ูุชุญุฏุซ: "ุนุฑุถ X ูู Y ุจูุฏ"

### ุงูุชุตุฏูุฑ/ุงูุงุณุชูุฑุงุฏ
1. CSV Export: ุฌููุน ุงูุฃุนูุฏุฉ ุจุงูุนุฑุจูุฉ
2. CSV Import: ูุถูู ููุฌุฏูู ุจุฏูู ุงุณุชุจุฏุงู
3. Toast notifications ูููุฌุงุญ/ุงููุดู

### ุงูุฅุฌุฑุงุกุงุช
1. View: Modal read-only
2. Edit: Modal editable ูุน Save/Cancel
3. Delete: ุชุฃููุฏ โ ุญุฐู โ toast
4. ุฌููุน ุงูุฅุฌุฑุงุกุงุช ูุญููุฉ (ูุง ุชุญุชุงุฌ API ุญุงููุงู)

---

## ๐ ุงูุชุดุบูู

```bash
# ุงูุณูุฑูุฑ ูุนูู
http://localhost:3001

# ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (ุงูุขู ุชุนุฑุถ ุงูุฎุทุฉ)
http://localhost:3001/

# ุตูุญุฉ ุงูุฎุทุฉ ุงููุฎุตุตุฉ (ููุณ ุงููุญุชูู)
http://localhost:3001/rbia/plan
```

---

## ๐ ุงูููุฎุต ุงูููุงุฆู

| ุงููููู | ุงูุญุงูุฉ |
|--------|--------|
| **Summary Cards** | โ 4 ุจุทุงูุงุช |
| **Table Rows** | โ 5 ุตููู (sample) |
| **Filters** | โ 3 dropdowns + search |
| **CSV** | โ Import + Export |
| **Actions** | โ View + Edit + Delete |
| **Sidebar Steps** | โ 11 ูุฑุงุญู |
| **RTL** | โ ูุงูู |
| **i18n** | โ ุนุฑุจู 100% |
| **Performance** | โ useMemo |
| **Accessibility** | โ ARIA labels |
| **LocalStorage** | โ Filters |

---

## ๐ฏ ุงููุชูุฌุฉ

```json
{
  "cards": 4,
  "rows": 5,
  "steps": 11,
  "mode": "embed",
  "rtl": true,
  "i18n": "ar",
  "status": "โ Complete"
}
```

---

**โ ุชู ุงูุชูููุฐ ุจูุฌุงุญ! ุงูุฎุทุฉ ุงูุณูููุฉ ุงูุขู ูุนุฑูุถุฉ ุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุงูุตูุญุฉ ุงููุฎุตุตุฉ ุจููุณ ุงูุชุตููู.**
